{"version":3,"sources":["Weather.js","App.js","index.js"],"names":["Weather","props","onClickOk","cityName","document","getElementById","value","GetWeather","state","units","temp","description","feels_like","city","country","image","axios","get","then","res","status","setState","data","main","name","weather","countries","sys","updateBackground","this","total","results","urls","regular","body","style","backgroundImage","locationText","tempText","getUnitText","feelsLikeText","descreptionText","className","id","autoFocus","placeholder","onKeyPress","event","which","type","onClick","React","Component","App","ReactDOM","render"],"mappings":"0PA0FeA,E,kDA/EX,WAAYC,GAAQ,IAAD,8BACf,cAAMA,IA4BVC,UAAY,WACR,IAAIC,EAAWC,SAASC,eAAe,YAAYC,MACnD,EAAKC,WAAWJ,EAAU,EAAKK,MAAMC,QA7BrC,EAAKD,MAAQ,CACTE,KAAMT,EAAMS,MAAQ,KACpBC,YAAaV,EAAMU,aAAe,KAClCC,WAAYX,EAAMW,YAAc,KAChCC,KAAMZ,EAAMY,MAXG,SAYfC,QAASb,EAAMa,SAAW,KAC1BL,MAAOR,EAAMQ,OAZE,SAafM,MAAOd,EAAMc,OATF,E,uDAcRF,EAAMJ,GAAO,IAAD,OACnBO,IAAMC,IAAN,4DAA+DJ,EAA/D,kBAA6EJ,EAA7E,kBArBmB,qCAsBjBS,MAAK,SAACC,GACY,MAAbA,EAAIC,SACH,EAAKC,SAAS,CAACX,KAAMS,EAAIG,KAAKC,KAAKb,KAAMG,KAAMM,EAAIG,KAAKE,KAAMb,YAAaQ,EAAIG,KAAKG,QAAQ,GAAGd,YAAaC,WAAYO,EAAIG,KAAKC,KAAKX,WAAYE,QAASY,YAAUP,EAAIG,KAAKK,IAAIb,SAASU,OAC3L,EAAKI,yB,0CAObC,KAAKtB,WAAWsB,KAAKrB,MAAMK,KAAKgB,KAAKrB,MAAMC,S,yCAS5B,IAAD,OACdO,IAAMC,IAAN,uDAA0DY,KAAKrB,MAAMK,KAArE,sBAvCe,8CAuCf,gBACEK,MAAK,SAACC,GACY,MAAbA,EAAIC,QACAD,EAAIG,KAAKQ,MAAQ,GACf,EAAKT,SAAS,CAACN,MAAOI,EAAIG,KAAKS,QAAQ,GAAGC,KAAKC,e,oCAO5D,MAAwB,WAArBJ,KAAKrB,MAAMC,MACH,QAEA,U,+BAIL,IAAD,OACLL,SAAS8B,KAAKC,MAAMC,gBAAkB,sEAAsEP,KAAKrB,MAAMO,MAAM,IAC7H,IAAIsB,EAAY,UAAMR,KAAKrB,MAAMK,KAAjB,aAA0BgB,KAAKrB,MAAMM,SACjDwB,EAAQ,UAAMT,KAAKrB,MAAME,KAAjB,YAAyBmB,KAAKU,eACtCC,EAAiBX,KAAKrB,MAAMI,WAAZ,sBAAyCiB,KAAKrB,MAAMI,WAApD,YAAkEiB,KAAKU,eAAkB,KACzGE,EAAmBZ,KAAKrB,MAAMG,YAAZ,UAA8BkB,KAAKrB,MAAMG,YAAzC,KAA0D,KAEhF,OACI,yBAAK+B,UAAU,WACX,yBAAKA,UAAU,eACf,2BAAOC,GAAG,WAAWC,WAAS,EAACC,YAAY,kBAAkBC,WAAY,SAACC,GAA0B,KAAdA,EAAMC,OAAa,EAAK9C,eAC9G,2BAAOyC,GAAG,QAAQD,UAAU,SAASO,KAAK,SAAS3C,MAAM,OAAQ4C,QAASrB,KAAK3B,aAE/E,yBAAKwC,UAAU,kBACf,2BAAIL,GACJ,uBAAGK,UAAU,YAAYJ,GACzB,uBAAGI,UAAU,mBAAmBD,GAChC,2BAAID,S,GAxEEW,IAAMC,WCEbC,MARf,WACE,OACE,yBAAKX,UAAU,OACb,kBAAC,EAAD,QCHNY,IAASC,OACL,kBAAC,EAAD,MACFnD,SAASC,eAAe,U","file":"static/js/main.f4886da0.chunk.js","sourcesContent":["import React from 'react';\r\nimport './App.css';\r\nimport axios from 'axios';\r\nimport {countries} from 'country-data';\r\n\r\nconst OpenWeatherMap_Key = '0aaae74896b719e82dd8d6ff4fbd9cf5';\r\nconst defaultWeatherCity = \"London\";\r\nconst defaultWeatherUnit = \"metric\";\r\nconst unsplashApiKey = \"c1kJX1fiQkVdCMLfBsmg5Jniqe06Xltsn__Zrmfz6VM\";\r\n\r\nclass Weather extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            temp: props.temp || null,\r\n            description: props.description || null,\r\n            feels_like: props.feels_like || null,\r\n            city: props.city || defaultWeatherCity,\r\n            country: props.country || null,\r\n            units: props.units || defaultWeatherUnit,\r\n            image: props.image\r\n        };\r\n\r\n    };\r\n\r\n    GetWeather(city, units){\r\n        axios.get(`https://api.openweathermap.org/data/2.5/weather?q=${city}&units=${units}&appid=${OpenWeatherMap_Key}`\r\n        ).then((res)=>{\r\n            if(res.status===200) {\r\n                this.setState({temp: res.data.main.temp, city: res.data.name, description: res.data.weather[0].description, feels_like: res.data.main.feels_like, country: countries[res.data.sys.country].name });\r\n                this.updateBackground();\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.GetWeather(this.state.city,this.state.units);\r\n    }\r\n\r\n    onClickOk = () => {\r\n        let cityName = document.getElementById('CityName').value;\r\n        this.GetWeather(cityName, this.state.units);\r\n        //\r\n    };\r\n\r\n    updateBackground(){\r\n        axios.get(`https://api.unsplash.com/search/photos?query=${this.state.city}&client_id=${unsplashApiKey}&per_page=1`\r\n        ).then((res)=>{\r\n            if(res.status===200) {\r\n                if(res.data.total > 0) {\r\n                     this.setState({image: res.data.results[0].urls.regular});\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    getUnitText(){\r\n        if(this.state.units === \"metric\"){\r\n            return \"°C\";\r\n        }else{\r\n            return \"°F\";\r\n        }\r\n    }\r\n\r\n    render() {\r\n        document.body.style.backgroundImage = \"linear-gradient(rgba(255,255,255,0.3), rgba(255,255,255,0.3)), url(\"+this.state.image+\")\";\r\n        let locationText = `${this.state.city}, ${this.state.country}`\r\n        let tempText = `${this.state.temp} ${this.getUnitText()}`;\r\n        let feelsLikeText = (this.state.feels_like) ? `feels like: ${this.state.feels_like} ${this.getUnitText()}` : null;\r\n        let descreptionText = (this.state.description) ? `${this.state.description} ` : null;\r\n\r\n        return (\r\n            <div className=\"Weather\" >\r\n                <div className=\"weatherForm\">\r\n                <input id=\"CityName\" autoFocus placeholder=\"Enter city name\" onKeyPress={(event)=>{if(event.which===13){ this.onClickOk();}}} />\r\n                <input id=\"myBtn\" className=\"submit\" type=\"submit\" value=\"Send\"  onClick={this.onClickOk} />\r\n                </div>\r\n                <div className=\"weatherResults\">\r\n                <p>{locationText}</p>\r\n                <p className=\"tempText\">{tempText}</p>\r\n                <p className=\"descreptionText\">{descreptionText}</p>\r\n                <p>{feelsLikeText}</p>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default Weather;\r\n","import React from 'react';\nimport './App.css';\nimport Weather from \"./Weather\";\n\nfunction App() {\n  return (\n    <div className=\"App\" >\n      <Weather />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}